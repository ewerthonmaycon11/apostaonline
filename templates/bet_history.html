{% extends "base.html" %}
{% block conteudo %}

<div class="container py-4">
  <h2 class="mb-4">ðŸ“œ HistÃ³rico de Apostas</h2>

  {% if apostas %}
    <table class="table table-striped shadow-sm rounded">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Valor</th>
          <th>Potencial</th>
          <th>Status</th>
          <th>Criada em</th>
          <th>SeleÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody>
        {% for aposta in apostas %}
          <tr>
            <td>{{ aposta.id }}</td>
            <td>R$ {{ "%.2f"|format(aposta.stake or 0) }}</td>
            <td>R$ {{ "%.2f"|format(aposta.potential or 0) }}</td>
            <td>{{ aposta.status|capitalize }}</td>
            <td>{{ aposta.criado_em }}</td>
            <td>
              <ul class="mb-0">
                {% for sel in aposta.selecoes %}
                  <li>
                    <strong>{{ sel.tipo|capitalize }}:</strong> {{ sel.escolha or "Indefinido" }} (Odd: {{ "%.2f"|format(sel.odd or 1) }})<br>
                    <em>{{ sel.time_a or "Time A" }} vs {{ sel.time_b or "Time B" }} - {{ sel.data_hora or "Data nÃ£o definida" }}</em>
                  </li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Nenhuma aposta encontrada.</p>
  {% endif %}
</div>

{% endblock %}
