{% extends "base.html" %}
{% block conteudo %}
    
<div class="container py-4">
    <h2 class="fw-bold text-primary mb-4">ðŸ“œ Meu HistÃ³rico de Apostas</h2>

    {% if bets|length == 0 %}
        <p class="text-center text-muted">VocÃª ainda nÃ£o fez nenhuma aposta.</p>
    {% else %}
        {% for aposta in bets %}
        <div class="card mb-3 shadow-sm">
            <div class="card-body">
                
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <p class="fw-bold mb-0">ID {{ aposta.id }} â€¢ {{ aposta.criado_em.split('T')[0] }}</p>
                    <span class="badge 
                        {% if aposta.status == 'ganho' %}bg-success
                        {% elif aposta.status == 'perdido' %}bg-danger
                        {% else %}bg-secondary{% endif %}">
                        {{ aposta.status | capitalize }}
                    </span>
                </div>
                
                <p class="mb-3 small text-muted">
                    Stake: R$ {{ '%.2f' % aposta.stake }} â€” Odd total: {{ '%.2f' % aposta.total_odd }} â€” Potencial: R$ {{ '%.2f' % aposta.potential }}
                </p>
                
                <hr class="my-2">
                
                {% for selecao in aposta.selections %}
                <p class="mb-1 small">
                    [{{ selecao.tipo | capitalize }}] 
                    
                    Escolha: <span class="fw-bold text-dark">{{ selecao.display_escolha }}</span> 
                    
                    â€” Odd: **{{ '%.2f' % selecao.odd }}** â€¢ Status: 
                    <span class="text-primary">{{ selecao.resultado | capitalize }}</span>
                    
                    <span class="text-muted fst-italic">({{ selecao.time_a }} vs {{ selecao.time_b }})</span>
                </p>
                {% endfor %}

            </div>
        </div>
        {% endfor %}
    {% endif %}

</div>
{% endblock %}
